(this.webpackJsonpmedicenter=this.webpackJsonpmedicenter||[]).push([[0],{136:function(e,t,c){},137:function(e,t,c){},146:function(e,t,c){"use strict";c.r(t);var n,a=c(0),s=c.n(a),r=c(50),i=c.n(r),j=(c(136),c(164)),l=c(156),d=c(119),o=c(157),b=c(19),h=c(8),O=(c(137),c(11)),u=c(159),x=c(167),m=c(1);!function(e){e.asc="asc",e.desc="desc"}(n||(n={}));var p=function(){var e=Object(a.useState)(0),t=Object(O.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(0),i=Object(O.a)(r,2),l=i[0],d=i[1],p=Object(a.useState)([]),f=Object(O.a)(p,2),C=f[0],g=f[1],v=Object(a.useState)(1),y=Object(O.a)(v,2),S=y[0],H=y[1],w=Object(a.useState)(10),D=Object(O.a)(w,2),R=D[0],I=D[1],k=Object(a.useState)("disease"),A=Object(O.a)(k,2),P=A[0],B=A[1],F=Object(a.useState)(n.asc),M=Object(O.a)(F,2),z=M[0],T=M[1],L=Object(h.e)().pathname.slice(9);return Object(a.useEffect)((function(){!function(e){var t="/api/v1/records?page=".concat(e-1,"&number=").concat(R,"&sortField=").concat(P,"&sortOrder=").concat(z);L&&(t+="&author=".concat(L)),fetch(t).then((function(e){return e.json()})).then((function(e){var t=e.count,c=e.records;g(c),s(t),d(Math.ceil(t/R))})).catch((function(e){console.error(e)}))}(S)}),[S,z,P,R]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(u.a,{celled:!0,children:[Object(m.jsx)(u.a.Header,{children:Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.HeaderCell,{children:"\u2116"}),Object(m.jsx)(u.a.HeaderCell,{children:"Country"}),Object(m.jsx)(u.a.HeaderCell,{children:"Population"}),Object(m.jsx)(u.a.HeaderCell,{children:"Disease"}),Object(m.jsx)(u.a.HeaderCell,{children:"Pathogen"}),Object(m.jsx)(u.a.HeaderCell,{children:"Deaths"}),Object(m.jsx)(u.a.HeaderCell,{children:"Cured"}),Object(m.jsx)(u.a.HeaderCell,{colSpan:"2",children:"Disease discovered in"}),Object(m.jsx)(u.a.HeaderCell,{children:"Author"})]})}),Object(m.jsx)(u.a.Body,{children:C&&C.map((function(e,t){return Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.Cell,{children:(S-1)*R+t+1}),Object(m.jsx)(u.a.Cell,{children:e.country}),Object(m.jsx)(u.a.Cell,{children:e.population}),Object(m.jsx)(u.a.Cell,{children:e.disease.toUpperCase()}),Object(m.jsx)(u.a.Cell,{children:(c=e.pathogen,c.charAt(0).toUpperCase()+c.slice(1))}),Object(m.jsx)(u.a.Cell,{children:e.deaths}),Object(m.jsx)(u.a.Cell,{children:e.cured}),Object(m.jsx)(u.a.Cell,{children:e.discover_country}),Object(m.jsx)(u.a.Cell,{children:new Date(e.first_enc_date).toLocaleDateString()}),Object(m.jsx)(u.a.Cell,{children:Object(m.jsx)(b.b,{to:"/users/".concat(e.email),children:"".concat(e.name," ").concat(e.surname)})})]},t);var c}))}),Object(m.jsx)(u.a.Footer,{children:Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.HeaderCell,{colSpan:"1",children:c}),Object(m.jsx)(u.a.HeaderCell,{colSpan:"3",children:Object(m.jsxs)(j.a,{compact:!0,horizontal:!0,children:[Object(m.jsx)(o.a,{item:!0,text:"Sort by",children:Object(m.jsxs)(o.a.Menu,{children:[Object(m.jsx)(o.a.Item,{onClick:function(){B("country"),H(1)},children:"Country"}),Object(m.jsx)(o.a.Item,{onClick:function(){B("population"),H(1)},children:"Population"}),Object(m.jsx)(o.a.Item,{onClick:function(){B("disease"),H(1)},children:"Disease"}),Object(m.jsx)(o.a.Item,{onClick:function(){B("pathogen"),H(1)},children:"Pathogen"}),Object(m.jsx)(o.a.Item,{onClick:function(){B("deaths"),H(1)},children:"Deaths"}),Object(m.jsx)(o.a.Item,{onClick:function(){B("cured"),H(1)},children:"Cured"}),Object(m.jsx)(o.a.Item,{onClick:function(){B("discover_country"),H(1)},children:"Discovery country"}),Object(m.jsx)(o.a.Item,{onClick:function(){B("first_enc_date"),H(1)},children:"Discovery date"})]})}),Object(m.jsx)(o.a,{item:!0,text:"Order",children:Object(m.jsxs)(o.a.Menu,{children:[Object(m.jsx)(o.a.Item,{onClick:function(){T(n.asc),H(1)},children:"Ascending"}),Object(m.jsx)(o.a.Item,{onClick:function(){T(n.desc),H(1)},children:"Descending"})]})}),Object(m.jsx)(o.a,{item:!0,text:"Results",children:Object(m.jsxs)(o.a.Menu,{children:[Object(m.jsx)(o.a.Item,{onClick:function(){I(5),H(1)},children:"5"}),Object(m.jsx)(o.a.Item,{onClick:function(){I(10),H(1)},children:"10"}),Object(m.jsx)(o.a.Item,{onClick:function(){I(20),H(1)},children:"20"}),Object(m.jsx)(o.a.Item,{onClick:function(){I(50),H(1)},children:"50"})]})})]})}),Object(m.jsx)(u.a.HeaderCell,{colSpan:"7",children:Object(m.jsx)(x.a,{activePage:S,boundaryRange:1,onPageChange:function(e,t){var c=t.activePage;"number"===typeof c&&H(c)},siblingRange:1,totalPages:l})})]})})]})})},f=c(120),C=c(160),g=c(161),v=c(75);function y(e){var t=Object(a.useState)(""),c=Object(O.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(0),i=Object(O.a)(r,2),j=i[0],l=i[1],o=e.name,h=e.surname,u=e.email,x=e.country,p=e.phone,f=e.salary,y=e.degree,S=e.department;return Object(a.useEffect)((function(){S&&fetch("/api/v1/stats/user/".concat(u)).then((function(e){return e.json()})).then((function(e){return l(e.count)})),fetch("https://randomuser.me/api/").then((function(e){return e.json()})).then((function(e){return s(e.results[0].picture.medium)}))}),[S,u]),Object(m.jsxs)(C.a,{children:[Object(m.jsxs)(C.a.Content,{children:[Object(m.jsx)(d.a,{floated:"right",size:"mini",rounded:!0,src:n}),Object(m.jsx)(C.a.Header,{children:o+" "+h}),Object(m.jsx)(C.a.Meta,{children:u}),Object(m.jsx)(C.a.Meta,{children:p}),Object(m.jsxs)(C.a.Description,{children:["From ",x]}),y&&Object(m.jsx)(C.a.Description,{children:"Doctor, ".concat(y)}),S&&Object(m.jsx)(C.a.Description,{children:"Works as a public servant in department ".concat(S)})]}),S&&Object(m.jsx)(C.a.Content,{extra:!0,children:Object(m.jsxs)(g.a,{primary:!0,as:b.b,to:"/records/".concat(u),children:["View ",j," records"]})}),Object(m.jsxs)(C.a.Content,{extra:!0,children:[Object(m.jsx)(v.a,{name:"dollar"}),f,"/year"]}),Object(m.jsxs)(C.a.Content,{extra:!0,children:[Object(m.jsx)(v.a,{name:"map pin"}),x]})]})}var S=function(){var e=Object(h.g)().email,t=Object(a.useState)([]),c=Object(O.a)(t,2),n=c[0],s=c[1];return Object(a.useEffect)((function(){!function(e){var t="/api/v1/users"+(void 0!==e?"?email=".concat(e):"");fetch(t).then((function(e){return e.json()})).then((function(e){e.sort((function(e,t){return e.department&&t.department?0:e.department&&!t.department?-1:1})),s(e)}))}(e)}),[e]),Object(m.jsx)(C.a.Group,{centered:!0,children:n&&n.map((function(e){return Object(m.jsx)(y,Object(f.a)({},e),e.email)}))})},H=c(165),w=c(166),D=c(163);function R(e){return e.charAt(0).toUpperCase()+e.slice(1)}var I=function(){var e=Object(a.useState)({countries:0,diseases:0,records:0,publicServants:0}),t=Object(O.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),r=Object(O.a)(s,2),i=r[0],j=r[1],l=Object(a.useState)([]),o=Object(O.a)(l,2),h=o[0],x=o[1],p=Object(a.useState)([]),f=Object(O.a)(p,2),C=f[0],g=f[1],y=Object(a.useState)([]),S=Object(O.a)(y,2),I=S[0],k=S[1],A=Object(a.useState)([]),P=Object(O.a)(A,2),B=P[0],F=P[1],M=Object(a.useState)([]),z=Object(O.a)(M,2),T=z[0],L=z[1];return Object(a.useEffect)((function(){fetch("/api/v1/stats").then((function(e){return e.json()})).then((function(e){return n(e)})),fetch("/api/v1/stats/top/servants").then((function(e){return e.json()})).then((function(e){return j(e)})),fetch("/api/v1/stats/top/diseases/infected").then((function(e){return e.json()})).then((function(e){return x(e)})),fetch("/api/v1/stats/top/diseases/newest").then((function(e){return e.json()})).then((function(e){return g(e)})),fetch("/api/v1/stats/top/diseases/types").then((function(e){return e.json()})).then((function(e){return k(e)})),fetch("/api/v1/stats/top/doctors").then((function(e){return e.json()})).then((function(e){return F(e)})),fetch("https://randomuser.me/api/?results=10").then((function(e){return e.json()})).then((function(e){var t=[];e.results.map((function(e){return t.push(e.picture.medium)})),L(t)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(H.a,{divided:"vertically",style:{marginTop:"2em"},children:Object(m.jsxs)(H.a.Row,{columns:3,centered:!0,children:[Object(m.jsxs)(H.a.Column,{width:"5",textAlign:"center",children:[Object(m.jsxs)(w.a,{as:"h3",icon:!0,children:[Object(m.jsx)(v.a,{name:"clipboard outline"}),"Top activists",Object(m.jsx)(w.a.Subheader,{children:"Servants with highest number of records created"})]}),Object(m.jsxs)(u.a,{collapsing:!0,basic:"very",style:{margin:"2em auto 0 auto"},children:[Object(m.jsx)(u.a.Header,{children:Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.HeaderCell,{children:"Public servant"}),Object(m.jsx)(u.a.HeaderCell,{children:"Records"})]})}),Object(m.jsx)(u.a.Body,{children:i&&i.map((function(e,t){return Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.Cell,{children:Object(m.jsxs)(w.a,{as:"h4",image:!0,children:[Object(m.jsx)(d.a,{rounded:!0,src:T[t]}),Object(m.jsxs)(w.a.Content,{as:b.b,to:"/users/".concat(e.email),children:["".concat(e.name," ").concat(e.surname),Object(m.jsx)(w.a.Subheader,{children:e.department})]})]})}),Object(m.jsx)(u.a.Cell,{children:e.records})]})}))})]})]}),Object(m.jsxs)(H.a.Column,{width:"11",textAlign:"center",children:[Object(m.jsxs)(w.a,{as:"h3",icon:!0,children:[Object(m.jsx)(v.a,{name:"user md"}),"Best specialists",Object(m.jsx)(w.a.Subheader,{children:"Doctors who specialize in many disease types"})]}),Object(m.jsxs)(u.a,{collapsing:!0,basic:"very",style:{margin:"2em auto 0 auto"},children:[Object(m.jsx)(u.a.Header,{children:Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.HeaderCell,{children:"Doctor"}),Object(m.jsx)(u.a.HeaderCell,{children:"Number"}),Object(m.jsx)(u.a.HeaderCell,{children:"Specializations"})]})}),Object(m.jsx)(u.a.Body,{children:B&&B.map((function(e,t){return Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.Cell,{children:Object(m.jsxs)(w.a,{as:"h4",image:!0,children:[Object(m.jsx)(d.a,{rounded:!0,src:T[t+5]}),Object(m.jsxs)(w.a.Content,{as:b.b,to:"/users/".concat(e.email),children:["".concat(e.name," ").concat(e.surname),Object(m.jsx)(w.a.Subheader,{children:e.degree})]})]})}),Object(m.jsx)(u.a.Cell,{children:e.specializations.length}),Object(m.jsx)(u.a.Cell,{children:e.specializations.reduce((function(t,c,n){return R(t)+(n<e.specializations.length?", ":"")+R(c)}))})]})}))})]})]})]})}),Object(m.jsxs)(D.a.Group,{widths:"four",size:"large",style:{marginTop:"2em"},children:[Object(m.jsxs)(D.a,{children:[Object(m.jsx)(D.a.Value,{children:c.records}),Object(m.jsx)(D.a.Label,{children:"Records"})]}),Object(m.jsxs)(D.a,{children:[Object(m.jsx)(D.a.Value,{children:c.countries}),Object(m.jsx)(D.a.Label,{children:"Countries"})]}),Object(m.jsxs)(D.a,{children:[Object(m.jsx)(D.a.Value,{children:c.diseases}),Object(m.jsx)(D.a.Label,{children:"Diseases"})]}),Object(m.jsxs)(D.a,{children:[Object(m.jsx)(D.a.Value,{children:c.publicServants}),Object(m.jsx)(D.a.Label,{children:"Public Servants"})]})]}),Object(m.jsxs)(H.a,{divided:"vertically",style:{marginTop:"4em"},children:[Object(m.jsxs)(w.a,{textAlign:"center",as:"h3",icon:!0,children:[Object(m.jsx)(v.a,{name:"line graph"}),"Diseases",Object(m.jsx)(w.a.Subheader,{children:"Diseases ranked by the number of people infected"})]}),Object(m.jsxs)(H.a.Row,{columns:3,centered:!0,children:[Object(m.jsxs)(H.a.Column,{width:"5",textAlign:"center",children:[Object(m.jsxs)(w.a,{textAlign:"center",as:"h4",children:["Most infectious",Object(m.jsx)(w.a.Subheader,{children:"Total number of infected"})]}),Object(m.jsxs)(u.a,{collapsing:!0,basic:"very",style:{margin:"2em auto 0 auto"},children:[Object(m.jsx)(u.a.Header,{children:Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.HeaderCell,{children:"Disease"}),Object(m.jsx)(u.a.HeaderCell,{children:"People infected"})]})}),Object(m.jsx)(u.a.Body,{children:h&&h.map((function(e){return Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.Cell,{children:Object(m.jsx)(w.a,{as:"h4",children:Object(m.jsxs)(w.a.Content,{children:[e.name.toUpperCase(),Object(m.jsx)(w.a.Subheader,{children:e.pathogen})]})})}),Object(m.jsx)(u.a.Cell,{children:e.infected})]})}))})]})]}),Object(m.jsxs)(H.a.Column,{width:"5",textAlign:"center",children:[Object(m.jsxs)(w.a,{textAlign:"center",as:"h4",children:["Newest",Object(m.jsx)(w.a.Subheader,{children:"Diseases discovered recently"})]}),Object(m.jsxs)(u.a,{collapsing:!0,basic:"very",style:{margin:"2em auto 0 auto"},children:[Object(m.jsx)(u.a.Header,{children:Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.HeaderCell,{children:"Disease"}),Object(m.jsx)(u.a.HeaderCell,{children:"Date"}),Object(m.jsx)(u.a.HeaderCell,{children:"Country"})]})}),Object(m.jsx)(u.a.Body,{children:C&&C.map((function(e){return Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.Cell,{children:Object(m.jsx)(w.a,{as:"h4",children:Object(m.jsxs)(w.a.Content,{children:[e.name.toUpperCase(),Object(m.jsx)(w.a.Subheader,{children:e.pathogen})]})})}),Object(m.jsx)(u.a.Cell,{children:e.country}),Object(m.jsx)(u.a.Cell,{children:new Date(e.first_enc_date).toLocaleDateString()})]})}))})]})]}),Object(m.jsxs)(H.a.Column,{width:"5",textAlign:"center",children:[Object(m.jsxs)(w.a,{textAlign:"center",as:"h4",children:["Types",Object(m.jsx)(w.a.Subheader,{children:"Most common disease types"})]}),Object(m.jsxs)(u.a,{collapsing:!0,basic:"very",style:{margin:"2em auto 0 auto"},children:[Object(m.jsx)(u.a.Header,{children:Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.HeaderCell,{children:"Type"}),Object(m.jsx)(u.a.HeaderCell,{children:"Diseases"})]})}),Object(m.jsx)(u.a.Body,{children:I&&I.map((function(e){return Object(m.jsxs)(u.a.Row,{children:[Object(m.jsx)(u.a.Cell,{children:Object(m.jsx)(w.a,{as:"h4",children:Object(m.jsx)(w.a.Content,{children:R(e.name)})})}),Object(m.jsx)(u.a.Cell,{children:e.diseases})]})}))})]})]})]})]})]})},k=c.p+"static/media/logo.6ce24c58.svg";var A=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.a,{inverted:!0,children:Object(m.jsxs)(l.a,{children:[Object(m.jsxs)(j.a.Item,{as:b.b,to:"/",header:!0,children:[Object(m.jsx)(d.a,{size:"mini",src:k,style:{marginRight:"1.5em"}}),"DB HW"]}),Object(m.jsx)(o.a,{item:!0,simple:!0,text:"Data",children:Object(m.jsxs)(o.a.Menu,{children:[Object(m.jsx)(o.a.Item,{as:b.b,to:"/records",children:"Records"}),Object(m.jsx)(o.a.Item,{as:b.b,to:"/stats",children:"Statistics"})]})}),Object(m.jsx)(j.a.Item,{as:b.b,to:"/users",children:"Users"})]})}),Object(m.jsx)(l.a,{children:Object(m.jsxs)(h.c,{children:[Object(m.jsx)(h.a,{index:!0,element:Object(m.jsx)(I,{})}),Object(m.jsx)(h.a,{path:"records",element:Object(m.jsx)(p,{})}),Object(m.jsx)(h.a,{path:"records/:email",element:Object(m.jsx)(p,{})}),Object(m.jsx)(h.a,{path:"stats",element:Object(m.jsx)(I,{})}),Object(m.jsx)(h.a,{path:"users",element:Object(m.jsx)(S,{})}),Object(m.jsx)(h.a,{path:"users/:email",element:Object(m.jsx)(S,{})})]})})]})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,168)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};c(145);i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(b.a,{children:Object(m.jsx)(A,{})})}),document.getElementById("root")),P()}},[[146,1,2]]]);
//# sourceMappingURL=main.5f20bebd.chunk.js.map